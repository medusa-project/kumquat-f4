<% provide :title, @collection.title %>
<% provide :body_id, 'collections_show' %>
<% provide :active_nav, 'collections' %>

<ol class="breadcrumb">
  <li><%= link_to 'Home', admin_root_path %></li>
  <li><%= link_to 'Collections', admin_collections_path %></li>
  <li class="active"><%= truncate(@collection.title, length: 50) %></li>
</ol>

<div class="btn-group pull-right">
  <%= link_to edit_admin_collection_path(@collection), class: 'btn btn-default' do %>
    <i class="fa fa-pencil-square-o"></i> Edit
  <% end %>
  <%= link_to admin_collection_path(@collection), method: 'delete',
              class: 'btn btn-danger',
              data: { confirm: 'Are you sure you want to delete this '\
                      'collection? All of its items will also be deleted.' } do %>
    <i class="fa fa-trash"></i>
    Delete
  <% end %>
</div>

<h1><%= @collection.title %>
  <small><%= pluralize(@collection.num_items, 'item') %></small>
  <% if @collection.subtitle %>
    <br><small><%= @collection.subtitle %></small>
  <% end %>
</h1>

<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title">Triples</h2>
  </div>
  <div class="panel-body">
    <%= triples_to_dl(@collection, show_uris: true) %>
  </div>
</div>

<%= render partial: 'shared/code_panel',
           locals: { title: 'Solr JSON',
                     body: JSON.pretty_generate(@collection.solr_representation) } %>
<%= render partial: 'shared/code_panel',
           locals: { title: 'Fedora RDF',
                     body: @collection.fedora_graph.dump(:ttl) } %>
