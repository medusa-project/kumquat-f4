<% provide :title, @collection.title %>
<% provide :body_id, 'collections_show' %>
<% provide :active_nav, 'collections' %>

<ol class="breadcrumb">
  <li><%= link_to 'Home', root_path %></li>
  <li><%= link_to 'Collections', collections_path %></li>
  <li class="active"><%= truncate(@collection.title, length: 50) %></li>
</ol>

<h1><%= @collection.title %>
  <small><%= pluralize(@collection.num_items, 'item') %></small>
  <% if @collection.subtitle %>
    <br><small><%= @collection.subtitle %></small>
  <% end %>
</h1>

<div class="row">
  <div class="col-sm-7">
    <% if @collection.triple('http://purl.org/dc/elements/1.1/description') %>
      <p>
        <%= @collection.triple('http://purl.org/dc/elements/1.1/description') %>
      </p>
    <% end %>
    <div class="text-center">
      <%= link_to('Browse the collection', collection_items_path(@collection),
                  class: 'btn btn-lg btn-default') %>
    </div>
  </div>
  <div class="col-sm-5">
    <%= image_tag('', width: 300, height: 400, alt: 'Representative image') %>
  </div>
</div>

<div class="panel panel-default">
  <div class="panel-heading">
    <h2 class="panel-title">Triples</h2>
  </div>
  <div class="panel-body">
    <%= triples_to_dl(@collection) %>
  </div>
</div>

<% if Rails.env.development? %>
  <%= render partial: 'shared/code_panel',
             locals: { title: 'Solr JSON',
                       body: JSON.pretty_generate(@collection.solr_representation) } %>
  <%= render partial: 'shared/code_panel',
             locals: { title: 'Fedora JSON-LD',
                       body: JSON.pretty_generate(@collection.fedora_json_ld) } %>
<% end %>
